# InsideOut π—“οΈ (24.07)

## ν”„λ΅μ νΈ κ°μ”

λ³Έ ν”„λ΅μ νΈλ” κΈ°μ΅΄ ν…μ¤νΈ λ° μ΄λ―Έμ§€ κΈ°λ° CAPTCHA μ‹μ¤ν…μ λ‚®μ€ λ°©μ–΄μ¨μ„ κ°μ„ ν•κΈ° μ„ν•΄, **μμ„± κΈ°λ° CAPTCHA μ‹μ¤ν…**μ„ κ°λ°ν–μµλ‹λ‹¤. μ‚¬μ©μλ” κ°μ •μ΄ λ‹΄κΈ΄ μμ„± λ°μ΄ν„°λ¥Ό λ“£κ³ , ν•΄λ‹Ή κ°μ •μ„ μ¬λ°”λ¥΄κ² μ„ νƒν•΄μ•Ό CAPTCHAλ¥Ό ν†µκ³Όν•  μ μμµλ‹λ‹¤.

λ‹¨μν AI λ¨λΈμ„ μ μ©ν•λ” κ²ƒμ„ λ„μ–΄, AWS ν΄λΌμ°λ“ μ‹μ¤ν…μ„ ν™μ©ν•μ—¬ μ„λ²„μ λ¬Όλ¦¬μ  λ³΄μ• λ° ν΄λΌμ°λ“ μΈν”„λΌ λ³΄μ•μ„ κ°•ν™”ν•κ³ , IaC(Infrastructure as Code)λ¥Ό κµ¬ν„ν•μ—¬ μΈν”„λΌ κµ¬μ¶• λ° λ°°ν¬ μλ™ν™”λ¥Ό κ²½ν—ν•λ” κ²ƒμ„ λ©ν‘λ΅ ν–μµλ‹λ‹¤. μ΄λ¥Ό ν†µν•΄ μ‹μ¤ν…μ μ•μ •μ„±κ³Ό ν™•μ¥μ„±μ„ λ†’μ΄κ³ , μ΄μ ν¨μ¨μ„±μ„ κ°μ„ ν–μµλ‹λ‹¤.

[Repositories](https://github.com/CHyuni/insideoutCdk)

ν€μ›

* CHyuni (AWS CDK, AWS Amplify, AWS Lambda, API Gateway)
* 1107c (AWS CDK, AWS Lambda, AWS DynamoDB, API Gateway)
* μµμ„±ν„ (AIλ¨λΈ νμΈνλ‹)

## κΈ°μ  μ¤νƒ

* AWS CDK (Cloud Development Kit): Pythonμ„ μ‚¬μ©ν•μ—¬ AWS μΈν”„λΌλ¥Ό μ½”λ“λ΅ μ •μν•κ³  ν”„λ΅λΉ„μ €λ‹ν•λ” λ° μ‚¬μ©ν–μµλ‹λ‹¤. IaC (Infrastructure as Code)λ¥Ό κµ¬ν„ν•μ—¬ μΈν”„λΌ κ΄€λ¦¬ μλ™ν™”λ¥Ό κµ¬μ¶•ν–μµλ‹λ‹¤.
* AWS S3 (Simple Storage Service): μ¤λ””μ¤ νμΌ λ° κΈ°νƒ€ μ •μ  νμΌμ„ μ €μ¥ν•κΈ° μ„ν•΄ μ‚¬μ©ν–μµλ‹λ‹¤.
* AWS DynamoDB: μ¤λ””μ¤ νμΌ μ •λ³΄ (νμΌλ…, λΌλ²¨ λ“±)λ¥Ό μ €μ¥ν•κΈ° μ„ν• NoSQL λ°μ΄ν„°λ² μ΄μ¤λ΅ μ‚¬μ©ν–μµλ‹λ‹¤.
* AWS Lambda: μ„λ²„λ¦¬μ¤ ν•¨μλ¥Ό μ‹¤ν–‰ν•κΈ° μ„ν•΄ μ‚¬μ©ν–μµλ‹λ‹¤. CAPTCHA μ²λ¦¬, λ”λ―Έ λ°μ΄ν„° μƒμ„±, λ°μ΄ν„°λ² μ΄μ¤ μ—…λ°μ΄νΈ, ν•™μµ λ°μ΄ν„° μ΄λ™ λ“±μ λ°±μ—”λ“ λ΅μ§μ„ κµ¬ν„ν–μµλ‹λ‹¤.
* AWS API Gateway: Lambda ν•¨μλ¥Ό νΈμ¶ν•κΈ° μ„ν• REST API μ—”λ“ν¬μΈνΈλ¥Ό μƒμ„±ν•κ³  κ΄€λ¦¬ν•λ” λ° μ‚¬μ©ν–μµλ‹λ‹¤.
* AWS Amplify: μ›Ή μ• ν”λ¦¬μΌ€μ΄μ…μ„ νΈμ¤ν…ν•κ³  λ°°ν¬ν•λ” λ° μ‚¬μ©ν–μµλ‹λ‹¤. GitHub μ €μ¥μ†μ™€ μ—°λ™ν•μ—¬ **μλ™ λ°°ν¬ νμ΄ν”„λΌμΈ (Continuous Delivery)μ„ κµ¬μ¶•ν–μµλ‹λ‹¤. ν„μ¬λ” Main λΈλμΉμ— ν‘Έμ‹λ  λ•λ§λ‹¤ μλ™μΌλ΅ λ°°ν¬λλ„λ΅ μ„¤μ •λμ–΄ μμΌλ©°, ν–¥ν›„ CI (Continuous Integration) λ‹¨κ³„λ¥Ό μ¶”κ°€ν•μ—¬ μ½”λ“ ν’μ§ κ²€μ‚¬ λ° ν…μ¤νΈ μλ™ν™”λ¥Ό κµ¬ν„ν•  κ³„νμ…λ‹λ‹¤.**
* Python: AWS CDK μ½”λ“ λ° Lambda ν•¨μλ¥Ό μ‘μ„±ν•λ” λ° μ‚¬μ©ν–μµλ‹λ‹¤.

## ν”„λ΅μ νΈ λ‚΄μ©

λ³Έ ν”„λ΅μ νΈλ” κΈ°μ΅΄ ν…μ¤νΈ λ° μ΄λ―Έμ§€ κΈ°λ° CAPTCHA μ‹μ¤ν…μ λ‚®μ€ λ°©μ–΄μ¨μ„ κ°μ„ ν•κΈ° μ„ν•΄, **AI κΈ°λ° μμ„± CAPTCHA μ‹μ¤ν…**μ„ κ°λ°ν–μµλ‹λ‹¤. μ‚¬μ©μλ” κ°μ •μ΄ λ‹΄κΈ΄ μμ„± λ°μ΄ν„°λ¥Ό λ“£κ³ , ν•΄λ‹Ή κ°μ •μ„ μ¬λ°”λ¥΄κ² μ„ νƒν•΄μ•Ό CAPTCHAλ¥Ό ν†µκ³Όν•  μ μμµλ‹λ‹¤.

*   **μμ„± λ°μ΄ν„° ν™μ©:** κ°μ •μ΄ λ‹΄κΈ΄ μμ„± λ°μ΄ν„°λ¥Ό ν™μ©ν•μ—¬ CAPTCHAμ λ‚μ΄λ„λ¥Ό λ†’μ΄κ³ , μ‚¬μ©μμ—κ² λ”μ± μμ—°μ¤λ¬μ΄ κ²½ν—μ„ μ κ³µν•κ³ μ ν–μµλ‹λ‹¤.
*   **TTS (Text-to-Speech) λ¨λΈ νμΈνλ‹:** λ΄‡μ΄ μ‰½κ² ν•΄λ…ν•  μ μ—†λ” λ‹¤μ–‘ν• μμ„± λ°μ΄ν„°λ¥Ό μƒμ„±ν•κΈ° μ„ν•΄, TTS λ¨λΈμ„ νΉμ • κ°μ •μ— λ§μ¶° νμΈνλ‹ν–μµλ‹λ‹¤.
*   **λ”λ―Έ λ°μ΄ν„° ν™μ©:** AI λ¨λΈ ν•™μµμ„ μ„ν• μ¶©λ¶„ν• μ–‘μ λ°μ΄ν„°λ¥Ό ν™•λ³΄ν•κΈ° μ„ν•΄, κΈμ •, λ¶€μ •, μ¤‘λ¦½ λ“± λ‹¤μ–‘ν• κ°μ •μ„ ν‘ν„ν•λ” λ”λ―Έ λ°μ΄ν„°λ¥Ό μƒμ„±ν•κ³  ν™μ©ν–μµλ‹λ‹¤.
*   **λ°μ΄ν„° λΌλ²¨λ§ λ° κ²€μ¦:** μƒμ„±λ μμ„± λ°μ΄ν„°λ” **μλ™μΌλ΅ λΌλ²¨λ§**ν•μ—¬ κ° μμ„± νμΌμ— κ°μ • μ •λ³΄λ¥Ό λ¶€μ—¬ν–μµλ‹λ‹¤. μ‚¬μ©μκ°€ μ„ νƒν• κ°μ •κ³Ό **λ―Έλ¦¬ λΌλ²¨λ§λ μ •λ‹µ κ°μ •μ„ λΉ„κµ**ν•μ—¬ CAPTCHA ν†µκ³Ό μ—¬λ¶€λ¥Ό κ²°μ •ν•©λ‹λ‹¤.

![μ•„ν‚¤ν…μ³](./image/5.png)

1.  **κ°μ • μμ„± μƒμ„± νμ΄ν”„λΌμΈ:**
    *   νμΈνλ‹ λ Tacotron2 λ¨λΈμ„ ν™μ©ν•μ—¬ λ‹¤μ–‘ν• κ°μ •(ν–‰λ³µ, μ¬ν””, λ¶„λ…Έ λ“±)μ΄ λ‹΄κΈ΄ μμ„±μ„ μƒμ„±ν•©λ‹λ‹¤.
    *   μƒμ„±λ μμ„±μ€ MeL SpectrogramμΌλ΅ λ³€ν™λ©λ‹λ‹¤.
    *   HiFi-GANμ„ ν†µν•΄ κ³ ν’μ§ μμ„± νμΌλ΅ λ³€ν™λ©λ‹λ‹¤.
    *   μµμΆ… μμ„± νμΌμ€ AWS S3μ— μ €μ¥λ©λ‹λ‹¤.
2.  **λ°μ΄ν„° κ΄€λ¦¬ μ‹μ¤ν…:**
    *   **dummyBucket (S3):** λΌλ²¨λ§μ΄ ν•„μ”ν• κ²€μ¦μ© μμ„± νμΌ μ €μ¥
    *   **learningBucket (S3):** κ²€μ¦ μ™„λ£λμ–΄ ν•™μµμ— μ‚¬μ©λ  μμ„± νμΌ μ €μ¥
    *   **playBucket (S3):** CAPTCHA μ‹¤μ  μΈμ¦μ— μ‚¬μ©λλ” μμ„± νμΌ μ €μ¥
    *   Lambda κΈ°λ°μ 'learning mover' ν•¨μκ°€ μΌμ • μ΅°κ±΄μ„ λ§μ΅±ν• λ°μ΄ν„°λ¥Ό dummyBucketμ—μ„ learningBucketμΌλ΅ μλ™ μ΄λ™μ‹ν‚µλ‹λ‹¤.
3.  **μΈν”„λΌ κµ¬μ¶• λ° κ΄€λ¦¬:**
    *   AWS Cloud Development Kit(CDK)λ¥Ό μ‚¬μ©ν•μ—¬ μ „μ²΄ μΈν”„λΌλ¥Ό μ½”λ“λ΅ κ΄€λ¦¬ν•©λ‹λ‹¤.
    *   DynamoDBμ— μ¤λ””μ¤ νμΌ λ©”νƒ€λ°μ΄ν„° λ° μ‚¬μ©μ μ‘λ‹µ λ°μ΄ν„°λ¥Ό μ €μ¥ν•©λ‹λ‹¤.
4.  **μ‚¬μ©μ μΈν„°νμ΄μ¤ λ° μΈμ¦ νλ¦„:**
    *   AWS Amplifyλ¥Ό ν†µν•΄ μ›Ή μ• ν”λ¦¬μΌ€μ΄μ…μ„ νΈμ¤ν…ν•©λ‹λ‹¤.
    *   μ‚¬μ©μκ°€ λ΅κ·ΈμΈμ„ μ‹λ„ν•λ©΄ CAPTCHA μΈμ¦ ν™”λ©΄μ΄ ν‘μ‹λ©λ‹λ‹¤.
    *   μ¬μƒ λ²„νΌμ„ ν†µν•΄ μμ„±μ„ λ“£κ³  8κ°€μ§€ κ°μ •(ν™”λ‚¨, λ‘λ ¤μ›€, νμ¤, μ¬ν””, μ¤‘λ¦½, μ°¨λ¶„ν•¨, ν–‰λ³µ, λ†€λ) μ¤‘ μ μ ν• κ°μ •μ„ μ„ νƒν•©λ‹λ‹¤.
    *   API Gatewayλ¥Ό ν†µν•΄ Lambda ν•¨μμ™€ ν†µμ‹ ν•μ—¬ μ‚¬μ©μ μ„ νƒμ„ κ²€μ¦ν•©λ‹λ‹¤.

![ν™ν™”λ©΄](./image/0.png)

μ›Ή νμ΄μ§€μ— μ ‘μ†ν•λ©΄ λ¨Όμ € ν™ ν™”λ©΄μ΄ ν‘μ‹λ©λ‹λ‹¤.

![λ΅κ·ΈμΈμ‹λ„μ‹](./image/1.png)

λ΅κ·ΈμΈμ„ μ‹λ„ν•λ©΄ μμ„± CAPTCHAκ°€ λ‚νƒ€λ‚©λ‹λ‹¤. μ‚¬μ©μλ” μ¬μƒ λ²„νΌμ„ λλ¬ κ°μ •μ΄ λ‹΄κΈ΄ μμ„± ν…μ¤νΈλ¥Ό λ“£κ³ , ν•΄λ‹Ή κ°μ •μ„ 8κ°€μ§€ λ³΄κΈ° μ¤‘μ—μ„ μ„ νƒν•΄μ•Ό ν•©λ‹λ‹¤. μ¤λ‹µμ„ μ„ νƒν•  κ²½μ°, μ΄ 3λ²μ κΈ°νκ°€ μ£Όμ–΄μ§€λ©°, 3λ² λ¨λ‘ μ‹¤ν¨ν•  κ²½μ° λ΄‡μΌλ΅ νλ‹¨ν•©λ‹λ‹¤.

![2λ²μ§Έλ¬Έμ ](./image/2.png)

2λ²μ§Έ λ¬Έμ μ—μ„λ” **κ²€μ¦ λ°μ΄ν„°**λ¥Ό μ‚¬μ©ν•μ—¬ λ‚μ΄λ„λ¥Ό λ†’μ…λ‹λ‹¤. μ‚¬μ©μλ” ν•΄λ‹Ή μμ„±μ΄ μ–΄λ–¤ κ°μ •μ„ λ‹΄κ³  μλ”μ§€ λΌλ²¨λ§ν•λ„λ΅ μ λ„λ©λ‹λ‹¤. 

![λ”λ―Έλ°μ΄ν„°DB](./image/3.png)

**κ²€μ¦ λ°μ΄ν„° DB (DynamoDB)**μ—λ” κ° μμ„± νμΌμ΄ νΉμ • κ°μ •μΌλ΅ λΌλ²¨λ§λ νμκ°€ μ €μ¥λ©λ‹λ‹¤. 

![ν•™μµμμ •λ°μ΄ν„°DB](./image/4.png)

ν•λ‚μ μμ„± νμΌμ— λ€ν•΄ νΉμ • κ°μ • λΌλ²¨μ μκ°€ λ‹¤λ¥Έ κ°μ • λΌλ²¨ μλ³΄λ‹¤ ν„μ €ν λ†’μ„ κ²½μ° (μ: 10ν μ΄μƒ), ν•΄λ‹Ή μμ„± νμΌμ€ ν•΄λ‹Ή κ°μ •μΌλ΅ λΌλ²¨λ§λ κ²ƒμΌλ΅ νλ‹¨ν•κ³ , **ν•™μµ μμ • λ°μ΄ν„° DB**λ΅ μ΄λ™λ©λ‹λ‹¤. ν•™μµ μμ • DBμ— μΌμ •λ‰μ λ°μ΄ν„°κ°€ μ“μ΄λ©΄, TTS λ¨λΈ νμΈνλ‹μ„ μ§„ν–‰ν•κ³ , ν•΄λ‹Ή λ°μ΄ν„°λ” μ‚­μ λ©λ‹λ‹¤. μ΄λ¥Ό ν†µν•΄ μ‚¬μ©μμ μ°Έμ—¬λ¥Ό ν†µν•΄ λ°μ΄ν„°λ¥Ό μμ§‘ν•κ³ , CAPTCHA μ‹μ¤ν…μ μ •ν™•λ„λ¥Ό λ†’μΌ μ μμµλ‹λ‹¤.

## κ²°λ΅ 

λ³Έ ν”„λ΅μ νΈλ” κΈ°μ΅΄ CAPTCHA μ‹μ¤ν…μ ν•κ³„λ¥Ό κ·Ήλ³µν•κ³ μ μμ„± κΈ°λ° CAPTCHA μ‹μ¤ν…μ„ κ°λ°ν•κ³  AWS ν΄λΌμ°λ“ ν™κ²½μ— κµ¬μ¶•ν•λ” κ³Όμ •μ„ μ„±κ³µμ μΌλ΅ μν–‰ν–μµλ‹λ‹¤. AI λ¨λΈ νμΈνλ‹, IaC κΈ°λ° μΈν”„λΌ κµ¬μ¶•, μλ™ λ°°ν¬ νμ΄ν”„λΌμΈ κµ¬ν„ λ“± λ‹¤μ–‘ν• κΈ°μ μ  λ„μ „μ„ ν†µν•΄ μ΄λ΅ μ μΈ μ§€μ‹μ„ μ‹¤μ  μ„λΉ„μ¤μ— μ μ©ν•λ” κ²½ν—μ„ μ–»μ—μµλ‹λ‹¤.

νΉν, λ‹¤μ μ‚¬ν•­λ“¤μ„ ν†µν•΄ ν”„λ΅μ νΈμ κ°€μΉλ¥Ό λ”μ± λ†’μΌ μ μμ—μµλ‹λ‹¤.
AI λ¨λΈ ν™μ© λ° AWS ν΄λΌμ°λ“ μ„λΉ„μ¤ μ—°λ™: TTS λ¨λΈ νμΈνλ‹μ„ ν†µν•΄ μƒμ„±λ μμ„± λ°μ΄ν„°λ¥Ό AWS S3 λ²„ν‚·μ— μ €μ¥ν•κ³ , Lambda ν•¨μμ™€ API Gatewayλ¥Ό ν†µν•΄ CAPTCHA μΈμ¦ λ΅μ§μ„ κµ¬ν„ν•¨μΌλ΅μ¨, AI λ¨λΈμ κ²°κ³Όλ¬Όμ„ ν΄λΌμ°λ“ μ„λΉ„μ¤μ™€ μ—°λ™ν•μ—¬ ν™μ©ν–μµλ‹λ‹¤.

μ‚¬μ©μ μ°Έμ—¬ν• λ°μ΄ν„° μμ§‘ μ‹μ¤ν… κµ¬μ¶•: CAPTCHAλ¥Ό ν†µν•΄ μμ§‘λ μ‚¬μ©μ λΌλ²¨λ§ λ°μ΄ν„°λ¥Ό ν™μ©ν•μ—¬ AI λ¨λΈμ„ μ§€μ†μ μΌλ΅ κ°μ„ ν•λ” μ„ μν™ κµ¬μ΅°λ¥Ό κµ¬μ¶•ν–μµλ‹λ‹¤. μ΄λ” CAPTCHA μ‹μ¤ν…μ μ •ν™•λ„λ¥Ό λ†’μ΄κ³ , μ¥κΈ°μ μΈ μ μ§€λ³΄μ λ° ν™•μ¥μ— κΈ°μ—¬ν•  κ²ƒμ…λ‹λ‹¤.

IaC κΈ°λ° μΈν”„λΌ κµ¬μ¶• λ° μλ™ λ°°ν¬ νμ΄ν”„λΌμΈ κµ¬ν„: AWS CDKλ¥Ό μ‚¬μ©ν•μ—¬ μΈν”„λΌλ¥Ό μ½”λ“λ΅ κ΄€λ¦¬ν•κ³ , AWS Amplifyλ¥Ό ν†µν•΄ **μλ™ λ°°ν¬ νμ΄ν”„λΌμΈ (Continuous Delivery)**μ„ κµ¬μ¶•ν•¨μΌλ΅μ¨, μΈν”„λΌ κ΄€λ¦¬ ν¨μ¨μ„±μ„ λ†’μ΄κ³ , λ°°ν¬ ν”„λ΅μ„Έμ¤λ¥Ό μλ™ν™”ν–μµλ‹λ‹¤.

μ΄λ² ν”„λ΅μ νΈλ¥Ό ν†µν•΄ μ–»μ€ κ²½ν—κ³Ό κΈ°μ μ  λ…Έν•μ°λ” μ•μΌλ΅ ν΄λΌμ°λ“ κΈ°λ° AI μ„λΉ„μ¤ κ°λ° λ° μ΄μμ— μμ–΄ ν° μμ‚°μ΄ λ  κ²ƒμ…λ‹λ‹¤. ν–¥ν›„ CI/CD νμ΄ν”„λΌμΈ κµ¬μ¶•, λ³΄μ• κ°•ν™”, μ‚¬μ©μ μΈν„°νμ΄μ¤ κ°μ„ , μ•…μ„± λ΄‡ λ°©μ§€λ¥Ό μ„ν• μμ„± λ°μ΄ν„°μ— λ―Έμ„Έν• λ³€μ΅°μ™€ κ°™μ€ νΌμ¦ μ¶”κ°€ λ“± μ§€μ†μ μΈ κ°μ„ μ„ ν†µν•΄ μ‹μ¤ν… μ™„μ„±λ„λ¥Ό λ†’μ—¬λ‚κ° κ³„νμ…λ‹λ‹¤.