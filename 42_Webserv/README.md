# 42_Webserv 🗓️ (24.10 - 24.12)

## 프로젝트 개요

이 프로젝트는 HTTP 프로토콜의 동작 방식과 클라이언트-서버 간 통신 과정을 깊이 있게 이해하고, 실제 웹 서버를 직접 구현하여 네트워크 프로그래밍 능력을 향상시키는 것을 목표로 진행되었습니다.

C++ 언어와 Epoll 기반의 I/O 멀티플렉싱 기술을 활용하여 고성능 웹 서버를 구현하고, HTTP 요청을 직접 파싱하여 응답을 생성하는 과정을 경험했습니다.

저수준 소켓 통신 과정에서 발생하는 다양한 문제점들을 해결하고, 멀티스레딩 환경에서의 동기화 문제를 해결하기 위해 노력했습니다. 본 프로젝트를 통해 HTTP 프로토콜, TCP/IP 소켓 통신, Epoll 기반의 I/O 멀티플렉싱, 그리고 멀티스레딩 프로그래밍에 대한 깊이 있는 이해를 얻을 수 있었습니다.

팀원

* CHyuni (C++, Epoll, HTTP Parsing)
* 1107c (C++, Epoll, HTTP Parsing)

## 기술 스택 (Technical Stack)

* C++: 주 개발 언어, 객체 지향 프로그래밍, 메모리 관리
* Epoll: I/O 멀티플렉싱, 높은 동시성 처리
* HTTP Parsing: HTTP 요청 파싱, 헤더 분석, 메시지 처리

## 프로젝트 내용
C++ 언어와 Epoll 기반의 I/O 멀티플렉싱 기술을 이용하여 저수준 소켓 통신 과정 및 HTTP 프로토콜 등을 직접 이해하기 위한 프로젝트
Ngnix의 conf 파일과 같이 작성 된 Server.conf 파일을 파싱하여 서버의 IP, Port, location등을 해석 해 서버에 할당


![홈화면](./image/0.png)
Epoll 기술을 이용한 비동기 소켓통신으로 html파일 서빙

![회원가입](./image/1.png)
외부 라이브러리 및 데이터베이스를 사용하지 않고 직접 json 파일로 회원 정보를 저장.
중복검사 회원가입 로그인 등 CGI 형태로 Python 코드를 실행하여 json 파일을 해석 후 검증.
회원가입 시 각 유저의 고유한 Salt값 함께 저장 패스워드 평문을 해시화, 해시화 + Salt 값을 더해서 해시화된 비밀번호 저장.

![로그인후화면](./image/2.png)
기본 Image를 표시해주고 이미지 업로드, CGI를 통한 현재 시간 확인, 로그아웃 등의 상호작용이 생김.

![프로필사진업데이트](./image/3.png)
서버로 image파일을 form-data형식으로 바운더리 내용을 파싱하여 전송

![프로필사진업데이트2](./image/4.png)

![변경후](./image/5.png)
서버에서 받은 본문 중 바운더리 경계선을 제외한 내용을 파싱하여 파일을 해당 유저이름의 폴더 생성 후 저장, 그 후 프로필 이미지에 해당 파일을 사용
<ul>
	<li>저장하기를 클릭 시 해당 이미지로 변경이 되고 유저 정보가 업데이트 됨.</li>
	<li>삭제하기를 클릭 시 Default 이미지로 복원.</li>
</ul>

![CGI시간](./image/6.png)
CGI형태로 실행하여 현재 시간을 확인할 수 있음.
<ul>
	<li>Query String으로 어떤 형태의 파일을 실행 할건지 확인을 하여 실행했음을 보여줌.</li>
	<li>Request Method란 해당 요청의 Method를 눈으로 직접 확인할 수 있는 란</li>
	<li>HTTP_COOKIE란 해당 요청을 보낸 유저의 session_id를 확인할 수 있는 란</li>
</ul>
